import{u as D,j as e}from"./index-DZp60Vkn.js";import{u as v,l as P,r as t,L as E}from"./react-vendor-B4YHSBsh.js";import{B as n,A as l,e as u,aa as R,a0 as p,d as j,h as U}from"./mui-vendor-DOedHO9w.js";import"./pdf-vendor--DKs459r.js";function F(){const h=v(),b=P(),{confirmPasswordReset:f}=D(),[i,x]=t.useState(""),[c,N]=t.useState(""),[o,m]=t.useState(!1),[d,r]=t.useState(""),[w,g]=t.useState(!1),a=new URLSearchParams(b.search).get("code"),k=async s=>{if(s.preventDefault(),r(""),!a){r("Invalid password reset link");return}if(i!==c){r("Passwords do not match");return}if(i.length<6){r("Password must be at least 6 characters");return}m(!0);try{await f(a,i),g(!0),setTimeout(()=>{h("/auth/login")},3e3)}catch(y){r(y.message||"Failed to reset password")}finally{m(!1)}};return w?e.jsxDEV(n,{sx:{textAlign:"center"},children:[e.jsxDEV(l,{severity:"success",sx:{mb:3},children:"Your password has been successfully reset"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:69,columnNumber:9},this),e.jsxDEV(u,{variant:"body2",children:"You will be redirected to the login page shortly."},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:72,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:68,columnNumber:7},this):e.jsxDEV(n,{component:"form",onSubmit:k,noValidate:!0,children:[e.jsxDEV(u,{component:"h1",variant:"h4",align:"center",sx:{mb:3,fontWeight:700,background:s=>s.palette.mode==="dark"?"linear-gradient(90deg, #60A5FA, #A78BFA)":"linear-gradient(90deg, #1D4ED8, #7C3AED)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Create New Password"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:81,columnNumber:7},this),!a&&e.jsxDEV(l,{severity:"error",sx:{mb:3},children:"Invalid or expired password reset link. Please request a new one."},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:99,columnNumber:9},this),d&&e.jsxDEV(l,{severity:"error",sx:{mb:2},children:d},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:105,columnNumber:9},this),e.jsxDEV(R,{spacing:3,children:[e.jsxDEV(p,{label:"New Password",type:"password",required:!0,fullWidth:!0,autoComplete:"new-password",autoFocus:!0,value:i,onChange:s=>x(s.target.value),disabled:!a||o},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:111,columnNumber:9},this),e.jsxDEV(p,{label:"Confirm New Password",type:"password",required:!0,fullWidth:!0,autoComplete:"new-password",value:c,onChange:s=>N(s.target.value),disabled:!a||o},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:123,columnNumber:9},this),e.jsxDEV(j,{type:"submit",fullWidth:!0,variant:"contained",disabled:!a||o,sx:{py:1.2},children:o?e.jsxDEV(U,{size:24},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:141,columnNumber:22},this):"Reset Password"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:134,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:110,columnNumber:7},this),e.jsxDEV(n,{sx:{display:"flex",justifyContent:"center",mt:3},children:e.jsxDEV(u,{component:E,to:"/auth/login",variant:"body2",sx:{textDecoration:"none",color:"primary.main","&:hover":{textDecoration:"underline"}},children:"Back to Sign In"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:146,columnNumber:9},this)},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:145,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/auth/ResetPassword.tsx",lineNumber:80,columnNumber:5},this)}export{F as default};
//# sourceMappingURL=ResetPassword-Bag2-aD2.js.map
