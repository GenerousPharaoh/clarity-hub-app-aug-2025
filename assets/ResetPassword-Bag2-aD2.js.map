{"version":3,"file":"ResetPassword-Bag2-aD2.js","sources":["../../src/pages/auth/ResetPassword.tsx"],"sourcesContent":["import * as React from 'react';\nimport { \n  Box, \n  Button, \n  TextField, \n  Typography, \n  CircularProgress,\n  Alert,\n  Stack \n} from '@mui/material';\nimport { Link as RouterLink, useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\n\nexport default function ResetPassword() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { confirmPasswordReset } = useAuth();\n  \n  const [password, setPassword] = React.useState('');\n  const [confirmPassword, setConfirmPassword] = React.useState('');\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState('');\n  const [success, setSuccess] = React.useState(false);\n  \n  // Get code from URL query params\n  const queryParams = new URLSearchParams(location.search);\n  const code = queryParams.get('code');\n  \n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    \n    if (!code) {\n      setError('Invalid password reset link');\n      return;\n    }\n    \n    // Validate passwords\n    if (password !== confirmPassword) {\n      setError('Passwords do not match');\n      return;\n    }\n    \n    if (password.length < 6) {\n      setError('Password must be at least 6 characters');\n      return;\n    }\n    \n    setLoading(true);\n    \n    try {\n      await confirmPasswordReset(code, password);\n      setSuccess(true);\n      \n      // Navigate back to login after a delay\n      setTimeout(() => {\n        navigate('/auth/login');\n      }, 3000);\n    } catch (err: any) {\n      setError(err.message || 'Failed to reset password');\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  if (success) {\n    return (\n      <Box sx={{ textAlign: 'center' }}>\n        <Alert severity=\"success\" sx={{ mb: 3 }}>\n          Your password has been successfully reset\n        </Alert>\n        <Typography variant=\"body2\">\n          You will be redirected to the login page shortly.\n        </Typography>\n      </Box>\n    );\n  }\n  \n  return (\n    <Box component=\"form\" onSubmit={handleSubmit} noValidate>\n      <Typography \n        component=\"h1\" \n        variant=\"h4\" \n        align=\"center\" \n        sx={{ \n          mb: 3, \n          fontWeight: 700,\n          background: theme => theme.palette.mode === 'dark'\n            ? 'linear-gradient(90deg, #60A5FA, #A78BFA)'\n            : 'linear-gradient(90deg, #1D4ED8, #7C3AED)',\n          WebkitBackgroundClip: 'text',\n          WebkitTextFillColor: 'transparent',\n        }}\n      >\n        Create New Password\n      </Typography>\n      \n      {!code && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          Invalid or expired password reset link. Please request a new one.\n        </Alert>\n      )}\n      \n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\n          {error}\n        </Alert>\n      )}\n      \n      <Stack spacing={3}>\n        <TextField\n          label=\"New Password\"\n          type=\"password\"\n          required\n          fullWidth\n          autoComplete=\"new-password\"\n          autoFocus\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          disabled={!code || loading}\n        />\n        \n        <TextField\n          label=\"Confirm New Password\"\n          type=\"password\"\n          required\n          fullWidth\n          autoComplete=\"new-password\"\n          value={confirmPassword}\n          onChange={(e) => setConfirmPassword(e.target.value)}\n          disabled={!code || loading}\n        />\n        \n        <Button\n          type=\"submit\"\n          fullWidth\n          variant=\"contained\"\n          disabled={!code || loading}\n          sx={{ py: 1.2 }}\n        >\n          {loading ? <CircularProgress size={24} /> : 'Reset Password'}\n        </Button>\n      </Stack>\n      \n      <Box sx={{ display: 'flex', justifyContent: 'center', mt: 3 }}>\n        <Typography\n          component={RouterLink}\n          to=\"/auth/login\"\n          variant=\"body2\"\n          sx={{ \n            textDecoration: 'none',\n            color: 'primary.main',\n            '&:hover': { textDecoration: 'underline' }\n          }}\n        >\n          Back to Sign In\n        </Typography>\n      </Box>\n    </Box>\n  );\n} "],"names":["ResetPassword","navigate","useNavigate","location","useLocation","confirmPasswordReset","useAuth","password","setPassword","React.useState","confirmPassword","setConfirmPassword","loading","setLoading","error","setError","success","setSuccess","code","handleSubmit","e","err","Box","jsxDEV","Alert","Typography","theme","Stack","TextField","Button","CircularProgress","RouterLink"],"mappings":"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"}