import{u as U,a as p,s as N,j as e}from"./index-DZp60Vkn.js";import{u as V,r as c}from"./react-vendor-B4YHSBsh.js";import{B as m,e as t,d as i,an as x,aj as C,h as f,cj as g,c1 as w,c2 as P,aO as S,aa as A,O as L,ck as O,D as I,a7 as z,ak as B,a9 as _,aq as T,a0 as F,M as G}from"./mui-vendor-DOedHO9w.js";import"./pdf-vendor--DKs459r.js";function J(){const{user:n}=U(),b=V(),[k,a]=c.useState(!1),[o,d]=c.useState(""),[u,l]=c.useState(!1),h=p(s=>s.projects),D=p(s=>s.setProjects),y=p(s=>s.setSelectedProject);c.useEffect(()=>{n&&j()},[n]);const j=async()=>{try{l(!0);const{data:s,error:r}=await N.from("projects").select("*").order("created_at",{ascending:!1});if(r)throw r;D(s||[])}catch(s){console.error("Error fetching projects:",s)}finally{l(!1)}},v=async()=>{if(!(!o.trim()||!n))try{l(!0);const{data:s,error:r}=await N.from("projects").insert({name:o.trim(),owner_id:n.id}).select().single();if(r)throw r;D([s,...h]),d(""),a(!1),b(`/projects/${s.id}`)}catch(s){console.error("Error creating project:",s)}finally{l(!1)}},E=s=>{y(s),b(`/projects/${s}`)};return e.jsxDEV(m,{sx:{p:3},children:[e.jsxDEV(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxDEV(t,{variant:"h4",component:"h1",gutterBottom:!0,children:"Legal Case Management Dashboard"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:88,columnNumber:9},this),e.jsxDEV(i,{variant:"contained",startIcon:e.jsxDEV(x,{},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:94,columnNumber:22},this),onClick:()=>a(!0),children:"New Legal Case"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:92,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:87,columnNumber:7},this),e.jsxDEV(C,{sx:{mb:4}},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:101,columnNumber:7},this),u?e.jsxDEV(m,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsxDEV(f,{},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:105,columnNumber:11},this)},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:104,columnNumber:9},this):h.length>0?e.jsxDEV(g,{container:!0,spacing:3,children:h.map(s=>e.jsxDEV(g,{item:!0,xs:12,sm:6,md:4,children:e.jsxDEV(w,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:4}},children:[e.jsxDEV(P,{sx:{flexGrow:1},children:[e.jsxDEV(m,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsxDEV(S,{sx:{mr:1,color:"primary.main"}},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:125,columnNumber:21},this),e.jsxDEV(t,{variant:"h6",component:"h2",children:s.name},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:126,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:124,columnNumber:19},this),e.jsxDEV(t,{variant:"body2",color:"text.secondary",children:["Created ",new Date(s.created_at).toLocaleDateString()]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:131,columnNumber:19},this),s.is_ai_organized&&e.jsxDEV(A,{direction:"row",spacing:1,sx:{mt:2},children:e.jsxDEV(L,{size:"small",label:"AI Organized",color:"primary",variant:"outlined"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:137,columnNumber:23},this)},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:136,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:123,columnNumber:17},this),e.jsxDEV(O,{children:e.jsxDEV(i,{size:"small",onClick:()=>E(s.id),children:"Open Case"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:142,columnNumber:19},this)},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:141,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:111,columnNumber:15},this)},s.id,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:110,columnNumber:13},this))},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:108,columnNumber:9},this):e.jsxDEV(I,{sx:{p:4,textAlign:"center"},children:[e.jsxDEV(t,{variant:"h6",gutterBottom:!0,children:"No legal cases yet"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:155,columnNumber:11},this),e.jsxDEV(t,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Create your first legal case to start managing documents with our three-panel citation system"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:158,columnNumber:11},this),e.jsxDEV(i,{variant:"contained",startIcon:e.jsxDEV(x,{},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:163,columnNumber:24},this),onClick:()=>a(!0),children:"Create Legal Case"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:161,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:154,columnNumber:9},this),e.jsxDEV(z,{open:k,onClose:()=>a(!1),children:[e.jsxDEV(B,{children:"Create New Legal Case"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:173,columnNumber:9},this),e.jsxDEV(_,{children:[e.jsxDEV(T,{children:"Enter a name for your new legal case. You'll be able to upload documents, create citations, and manage evidence using our three-panel workflow."},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:175,columnNumber:11},this),e.jsxDEV(F,{autoFocus:!0,margin:"dense",label:"Case Name",placeholder:"e.g., Smith v. Jones Contract Dispute",fullWidth:!0,variant:"outlined",value:o,onChange:s=>d(s.target.value)},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:174,columnNumber:9},this),e.jsxDEV(G,{children:[e.jsxDEV(i,{onClick:()=>a(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:190,columnNumber:11},this),e.jsxDEV(i,{onClick:v,variant:"contained",disabled:!o.trim()||u,children:u?e.jsxDEV(f,{size:24},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:196,columnNumber:24},this):"Create Legal Case"},void 0,!1,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:191,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:189,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:172,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/kareemhassanein/Desktop/clarity-hub-app/src/pages/Dashboard.tsx",lineNumber:86,columnNumber:5},this)}export{J as default};
//# sourceMappingURL=Dashboard-CvQjZp2T.js.map
